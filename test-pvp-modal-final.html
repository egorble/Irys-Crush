<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PVP Modal Final Test</title>
    <link rel="stylesheet" href="public/style.css">
    <link rel="stylesheet" href="public/css/pvp.css">
    <link rel="stylesheet" href="public/css/pvp-results.css">
    <style>
        body {
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        .test-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #007bff;
        }
        .test-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        .test-btn {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        .test-btn:hover {
            background: #0056b3;
        }
        .size-info {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 10001;
        }
    </style>
</head>
<body>
    <div class="test-info">
        <h1>üß™ PVP Modal Size Test</h1>
        <p><strong>–ú–µ—Ç–∞:</strong> –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ PVP –º–æ–¥–∞–ª—å–Ω—ñ –≤—ñ–∫–Ω–∞ –º–∞—é—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä</p>
        <p><strong>–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –í—Å—ñ –º–æ–¥–∞–ª—å–Ω—ñ –≤—ñ–∫–Ω–∞ –ø–æ–≤–∏–Ω–Ω—ñ –º–∞—Ç–∏ max-width: 500px —ñ –±—É—Ç–∏ —Ü–µ–Ω—Ç—Ä–æ–≤–∞–Ω—ñ</p>
    </div>

    <div class="test-buttons">
        <button class="test-btn" onclick="showPVPMain()">PVP Main Menu</button>
        <button class="test-btn" onclick="showCreateRoom()">Create Room</button>
        <button class="test-btn" onclick="showJoinRoom()">Join Room</button>
        <button class="test-btn" onclick="showBrowseRooms()">Browse Rooms</button>
        <button class="test-btn" onclick="showRoomWaiting()">Room Waiting</button>
        <button class="test-btn" onclick="showPVPResults()">PVP Results</button>
        <button class="test-btn" onclick="showRegularModal()">Regular Modal (–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è)</button>
    </div>

    <div class="size-info" id="sizeInfo">
        –†–æ–∑–º—ñ—Ä –≤—ñ–∫–Ω–∞: <span id="windowSize"></span><br>
        –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ: <span id="modalSize">–ù–µ –≤—ñ–¥–∫—Ä–∏—Ç–æ</span>
    </div>

    <!-- Regular Modal –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è -->
    <div id="regular-modal" class="modal hidden">
        <div class="modal-content">
            <h2>–ó–≤–∏—á–∞–π–Ω–µ –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ</h2>
            <p>–¶–µ –∑–≤–∏—á–∞–π–Ω–µ –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—ñ–≤.</p>
            <p><strong>–†–æ–∑–º—ñ—Ä–∏:</strong> min-width: 320px, max-width: 90vw, max-height: 80vh</p>
            <button onclick="hideModal('regular-modal')">–ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
    </div>

    <!-- PVP Modal -->
    <div id="pvp-modal" class="modal hidden">
        <div class="modal-content">
            <div id="pvp-content">
                <!-- Content will be inserted here -->
            </div>
        </div>
    </div>

    <script>
        // Update size info
        function updateSizeInfo() {
            const windowSize = `${window.innerWidth}x${window.innerHeight}`;
            document.getElementById('windowSize').textContent = windowSize;
            
            const modal = document.querySelector('#pvp-modal .modal-content:not(.hidden)');
            if (modal && !document.getElementById('pvp-modal').classList.contains('hidden')) {
                const rect = modal.getBoundingClientRect();
                document.getElementById('modalSize').textContent = `${Math.round(rect.width)}x${Math.round(rect.height)}px`;
            } else {
                document.getElementById('modalSize').textContent = '–ù–µ –≤—ñ–¥–∫—Ä–∏—Ç–æ';
            }
        }

        window.addEventListener('resize', updateSizeInfo);
        setInterval(updateSizeInfo, 1000);
        updateSizeInfo();

        function showPVPModal(content) {
            document.getElementById('pvp-content').innerHTML = content;
            document.getElementById('pvp-modal').classList.remove('hidden');
            setTimeout(updateSizeInfo, 100);
        }

        function hideModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
            updateSizeInfo();
        }

        function showPVPMain() {
            showPVPModal(`
                <h2>üéØ PVP Mode</h2>
                <div class="pvp-main-menu">
                    <button class="pvp-btn primary">üèóÔ∏è Create Room</button>
                    <button class="pvp-btn secondary">üö™ Join Room</button>
                    <button class="pvp-btn secondary">üìã Browse Rooms</button>
                    <button class="pvp-btn secondary" onclick="hideModal('pvp-modal')">‚ùå Close</button>
                </div>
                <div class="pvp-status">
                    <p><strong>Player:</strong> TestPlayer</p>
                    <p><strong>Wallet:</strong> 0x1234...5678</p>
                </div>
            `);
        }

        function showCreateRoom() {
            showPVPModal(`
                <h2>üèóÔ∏è Create PVP Room</h2>
                <div class="create-room-form">
                    <div class="form-group">
                        <label for="entry-fee">Entry Fee (IRYS):</label>
                        <input type="number" id="entry-fee" value="0.001" min="0.001" step="0.001">
                    </div>
                    <div class="form-group">
                        <label for="game-duration">Game Duration:</label>
                        <select id="game-duration">
                            <option value="2">2 minutes</option>
                            <option value="3">3 minutes</option>
                            <option value="5">5 minutes</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="max-players">Max Players:</label>
                        <select id="max-players">
                            <option value="2">2 players</option>
                            <option value="3">3 players</option>
                            <option value="4">4 players</option>
                        </select>
                    </div>
                    <div class="prize-breakdown">
                        <h4>Prize Breakdown:</h4>
                        <p><strong>Total Prize:</strong> <span id="total-prize">0.002 IRYS</span></p>
                        <p><strong>Winner Prize:</strong> <span id="winner-prize">0.0019 IRYS</span></p>
                        <p><strong>Host Fee:</strong> <span id="host-fee">0.0001 IRYS</span></p>
                    </div>
                    <div class="form-actions">
                        <button class="pvp-btn primary">Create Room</button>
                        <button class="pvp-btn secondary" onclick="hideModal('pvp-modal')">Cancel</button>
                    </div>
                </div>
            `);
        }

        function showJoinRoom() {
            showPVPModal(`
                <h2>üö™ Join PVP Room</h2>
                <div class="join-room-form">
                    <div class="form-group">
                        <label for="room-id">Room ID:</label>
                        <input type="text" id="room-id" placeholder="Enter room ID...">
                    </div>
                    <div class="form-actions">
                        <button class="pvp-btn primary">Check Room</button>
                        <button class="pvp-btn secondary" onclick="hideModal('pvp-modal')">Cancel</button>
                    </div>
                    <div class="room-info-display" style="display: none;">
                        <h4>Room Information:</h4>
                        <p><strong>Entry Fee:</strong> 0.001 IRYS</p>
                        <p><strong>Game Duration:</strong> 2 minutes</p>
                        <p><strong>Players:</strong> 1/2</p>
                        <button class="pvp-btn primary">Join Room</button>
                    </div>
                </div>
            `);
        }

        function showBrowseRooms() {
            showPVPModal(`
                <h2>üìã Browse Rooms</h2>
                <div class="browse-rooms-container">
                    <div class="rooms-header">
                        <span class="rooms-count">3 active rooms</span>
                        <button class="pvp-btn secondary">üîÑ Refresh</button>
                    </div>
                    <div class="rooms-container">
                        <div class="room-card">
                            <div class="room-header">
                                <span class="room-id">Room #12345</span>
                                <span class="room-status status-waiting">Waiting</span>
                            </div>
                            <div class="room-details">
                                <span>Entry: 0.001 IRYS</span>
                                <span>Duration: 2 min</span>
                                <span>Players: 1/2</span>
                                <span>Host: Player1</span>
                            </div>
                            <div class="room-actions">
                                <button class="join-btn">Join</button>
                            </div>
                        </div>
                        <div class="room-card">
                            <div class="room-header">
                                <span class="room-id">Room #12346</span>
                                <span class="room-status status-full">Full</span>
                            </div>
                            <div class="room-details">
                                <span>Entry: 0.002 IRYS</span>
                                <span>Duration: 3 min</span>
                                <span>Players: 2/2</span>
                                <span>Host: Player2</span>
                            </div>
                            <div class="room-actions">
                                <button class="join-btn" disabled>Full</button>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="pvp-btn secondary" onclick="hideModal('pvp-modal')">Back</button>
                    </div>
                </div>
            `);
        }

        function showRoomWaiting() {
            showPVPModal(`
                <h2>üè† Room #12345</h2>
                <div class="room-waiting">
                    <div class="room-status-info">
                        <p><strong>Status:</strong> Waiting for players</p>
                        <p><strong>Your Role:</strong> üëë Host</p>
                    </div>
                    <div class="room-info-display">
                        <p><strong>Entry Fee:</strong> 0.001 IRYS</p>
                        <p><strong>Game Duration:</strong> 2 minutes</p>
                        <p><strong>Max Players:</strong> 2</p>
                        <p><strong>Total Prize Pool:</strong> 0.002 IRYS</p>
                    </div>
                    <div class="room-players">
                        <h3>Players in room:</h3>
                        <div class="players-list">
                            <div class="player-item host you">
                                <span>You (Host)</span>
                                <span>üëë</span>
                            </div>
                        </div>
                    </div>
                    <div class="room-actions">
                        <button class="pvp-btn primary" disabled>Start Game (Need 1 more player)</button>
                        <button class="pvp-btn danger">üö™ Leave Room</button>
                        <button class="pvp-btn secondary">üîÑ Refresh</button>
                        <button class="pvp-btn secondary" onclick="hideModal('pvp-modal')">Back to PVP</button>
                    </div>
                </div>
            `);
        }

        function showPVPResults() {
            showPVPModal(`
                <div class="pvp-results-content">
                    <div class="pvp-stage">
                        <div class="pvp-stage-icon">üèÜ</div>
                        <h3>Game Finished!</h3>
                        <div class="pvp-stage-description">Final results are ready</div>
                    </div>
                    <div class="pvp-winner-section you-won">
                        <h3>üèÜ You Won!</h3>
                        <div class="pvp-winner-info">Final Score: 2500 points</div>
                    </div>
                    <div class="pvp-leaderboard-section">
                        <h4>Final Leaderboard</h4>
                        <div class="pvp-leaderboard">
                            <div class="pvp-leaderboard-item winner you">
                                <div class="pvp-player-info">
                                    <span class="pvp-player-rank">1.</span>
                                    <span class="pvp-player-name">You</span>
                                    <span class="pvp-player-badge winner">WINNER</span>
                                </div>
                                <span class="pvp-player-score">2500</span>
                            </div>
                            <div class="pvp-leaderboard-item">
                                <div class="pvp-player-info">
                                    <span class="pvp-player-rank">2.</span>
                                    <span class="pvp-player-name">Player2</span>
                                </div>
                                <span class="pvp-player-score">2000</span>
                            </div>
                        </div>
                    </div>
                    <div class="pvp-actions">
                        <button class="pvp-btn primary">Play Again</button>
                        <button class="pvp-btn secondary" onclick="hideModal('pvp-modal')">Close</button>
                    </div>
                </div>
            `);
        }

        function showRegularModal() {
            document.getElementById('regular-modal').classList.remove('hidden');
            setTimeout(updateSizeInfo, 100);
        }

        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.add('hidden');
                updateSizeInfo();
            }
        });
    </script>
</body>
</html>