# üîÑ –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ –∑–º—ñ–Ω–∏ –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä—ñ —á–µ—Ä–µ–∑ –∫–µ—à—É–≤–∞–Ω–Ω—è nginx —Ç–∞ –±—Ä–∞—É–∑–µ—Ä–∞.

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

### 1. –ü–æ–∫—Ä–∞—â–µ–Ω–∞ nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
**–§–∞–π–ª:** `nginx-config-fix.sh`

**–©–æ —Ä–æ–±–∏—Ç—å:**
- ‚ùå HTML —Ñ–∞–π–ª–∏ **–ù–ï –∫–µ—à—É—é—Ç—å—Å—è** (–∑–∞–≤–∂–¥–∏ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è)
- ‚è∞ CSS/JS –∫–µ—à—É—é—Ç—å—Å—è –ª–∏—à–µ **5 —Ö–≤–∏–ª–∏–Ω**
- üåÖ –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–µ—à—É—é—Ç—å—Å—è **1 –¥–µ–Ω—å**
- üìù API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ **–Ω—ñ–∫–æ–ª–∏ –Ω–µ –∫–µ—à—É—é—Ç—å—Å—è**

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```bash
sudo ./nginx-config-fix.sh yourdomain.com
```

### 2. –ü–æ–∫—Ä–∞—â–µ–Ω–∏–π –¥–µ–ø–ª–æ–π —Å–∫—Ä–∏–ø—Ç
**–§–∞–π–ª:** `deploy-irysgame.sh`

**–©–æ –¥–æ–¥–∞–Ω–æ:**
- üßπ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è nginx –∫–µ—à—É –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é
- üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—ñ–≤ –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- üìã –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è –ø—Ä–∏–º—É—Å–æ–≤–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –±—Ä–∞—É–∑–µ—Ä–∞

### 3. –®–≤–∏–¥–∫–µ –æ—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É
**–§–∞–π–ª:** `clear-cache.sh`

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```bash
sudo ./clear-cache.sh yourdomain.com
```

**–©–æ —Ä–æ–±–∏—Ç—å:**
- üîÑ –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—É—î nginx
- üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î Node.js –¥–æ–¥–∞—Ç–æ–∫
- üßπ –û—á–∏—â–∞—î DNS –∫–µ—à
- üìã –ü–æ–∫–∞–∑—É—î —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞

### 4. Server-side cache headers
**–§–∞–π–ª:** `server.js`

**–©–æ –¥–æ–¥–∞–Ω–æ:**
- ‚ùå HTML —Ç–∞ API: `no-cache, no-store, must-revalidate`
- ‚è∞ CSS/JS: `max-age=300` (5 —Ö–≤–∏–ª–∏–Ω)
- üåÖ –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è: `max-age=86400` (1 –¥–µ–Ω—å)

## üöÄ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### –î–ª—è –Ω–æ–≤–æ–≥–æ —Å–∞–π—Ç—É:
```bash
# 1. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –¥–æ–º–µ–Ω
sudo ./setup-domain.sh yourdomain.com admin@yourdomain.com

# 2. –í–∏–ø—Ä–∞–≤—Ç–µ nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
sudo ./nginx-config-fix.sh yourdomain.com

# 3. –î–µ–ø–ª–æ–π—Ç–µ –≥—Ä—É
sudo ./deploy-irysgame.sh /path/to/testcrush yourdomain.com
```

### –î–ª—è —ñ—Å–Ω—É—é—á–æ–≥–æ —Å–∞–π—Ç—É:
```bash
# 1. –í–∏–ø—Ä–∞–≤—Ç–µ nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
sudo ./nginx-config-fix.sh yourdomain.com

# 2. –î–µ–ø–ª–æ–π—Ç–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
sudo ./deploy-irysgame.sh /path/to/testcrush yourdomain.com

# 3. –û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à—ñ
sudo ./clear-cache.sh yourdomain.com
```

### –î–ª—è —à–≤–∏–¥–∫–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤:
```bash
# –ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª–∏ —ñ –æ—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à
sudo cp -r /path/to/updated/files/* /var/www/yourdomain.com/
sudo ./clear-cache.sh yourdomain.com
```

## üîß –†—É—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É

### –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ:
```bash
# –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ nginx
sudo systemctl reload nginx

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫
sudo systemctl restart irysgame

# –û—á–∏—Å—Ç–∏—Ç–∏ DNS –∫–µ—à
sudo systemd-resolve --flush-caches
```

### –í –±—Ä–∞—É–∑–µ—Ä—ñ:

#### Chrome/Edge:
1. **Ctrl+F5** (Windows) –∞–±–æ **Cmd+Shift+R** (Mac)
2. –ê–±–æ:
   - F12 ‚Üí Network tab
   - ‚úÖ Disable cache
   - –ó–≤–∏—á–∞–π–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

#### Firefox:
1. **Ctrl+Shift+R** (Windows) –∞–±–æ **Cmd+Shift+R** (Mac)
2. –ê–±–æ:
   - F12 ‚Üí Network tab
   - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚Üí Disable HTTP Cache

#### Safari:
1. **Cmd+Option+E** (–æ—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à)
2. –ü–æ—Ç—ñ–º **Cmd+R** (–æ–Ω–æ–≤–∏—Ç–∏)

## üìä –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ HTML
curl -I https://yourdomain.com/

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ CSS
curl -I https://yourdomain.com/style.css

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ JS
curl -I https://yourdomain.com/main.js
```

### –û—á—ñ–∫—É–≤–∞–Ω—ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏:

**HTML:**
```
Cache-Control: no-cache, no-store, must-revalidate
Pragma: no-cache
Expires: 0
```

**CSS/JS:**
```
Cache-Control: public, max-age=300, must-revalidate
Last-Modified: [current date]
```

**–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è:**
```
Cache-Control: public, max-age=86400
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü—ñ—Å–ª—è –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è —Ü–∏—Ö –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å:

‚úÖ **HTML —Ñ–∞–π–ª–∏** –∑–∞–≤–∂–¥–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è —Å–≤—ñ–∂—ñ  
‚úÖ **CSS/JS —Ñ–∞–π–ª–∏** –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è —á–µ—Ä–µ–∑ 5 —Ö–≤–∏–ª–∏–Ω  
‚úÖ **API –∑–∞–ø–∏—Ç–∏** –Ω—ñ–∫–æ–ª–∏ –Ω–µ –∫–µ—à—É—é—Ç—å—Å—è  
‚úÖ **–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è** –∫–µ—à—É—é—Ç—å—Å—è —Ä–æ–∑—É–º–Ω–æ (1 –¥–µ–Ω—å)  
‚úÖ **–î–µ–ø–ª–æ–π** –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—á–∏—â–∞—î –∫–µ—à—ñ  
‚úÖ **–®–≤–∏–¥–∫–µ –æ—á–∏—â–µ–Ω–Ω—è** –æ–¥–Ω–æ—é –∫–æ–º–∞–Ω–¥–æ—é  

## üö® –Ø–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é:**
   ```bash
   sudo nginx -t
   cat /etc/nginx/sites-available/yourdomain.com
   ```

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ nginx:**
   ```bash
   sudo tail -f /var/log/nginx/yourdomain.com.access.log
   sudo tail -f /var/log/nginx/yourdomain.com.error.log
   ```

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤—ñ—Å—ñ–≤:**
   ```bash
   sudo systemctl status nginx
   sudo systemctl status irysgame
   ```

4. **–ü—Ä–∏–º—É—Å–æ–≤–æ –æ—á–∏—Å—Ç—ñ—Ç—å –≤—Å–µ:**
   ```bash
   sudo ./clear-cache.sh yourdomain.com
   # –ü–æ—Ç—ñ–º –≤ –±—Ä–∞—É–∑–µ—Ä—ñ Ctrl+Shift+Delete (–æ—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ)
   ```

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä –≤–∞—à—ñ —Ñ–∞–π–ª–∏ –±—É–¥—É—Ç—å –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –±–µ–∑ –ø–æ—Ç—Ä–µ–±–∏ –≤ –ø–æ–≤–Ω–æ–º—É –ø–µ—Ä–µ–¥–µ–ø–ª–æ—ó –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É! 